# Example Modelfile for a custom coding assistant.
# Build: ollama create code-assistant -f Modelfile.example
# Run:   ollama run code-assistant
#
# See https://github.com/ollama/ollama/blob/main/docs/modelfile.md

FROM llama3.2:3b

# System prompt
SYSTEM """You are an expert software engineer. You write clean, well-documented
code with proper error handling. When asked to write code, include:
1. Type hints
2. Docstrings
3. Error handling
4. Example usage in comments

When debugging, explain your reasoning step by step."""

# Generation parameters
PARAMETER temperature 0.3
PARAMETER top_p 0.9
PARAMETER top_k 40
PARAMETER num_predict 2048
PARAMETER stop "<|eot_id|>"
PARAMETER stop "<|end_of_text|>"

# Context window
PARAMETER num_ctx 8192

# Template (Llama 3 format â€” adjust for other model families)
TEMPLATE """{{ if .System }}<|start_header_id|>system<|end_header_id|>

{{ .System }}<|eot_id|>{{ end }}{{ if .Prompt }}<|start_header_id|>user<|end_header_id|>

{{ .Prompt }}<|eot_id|>{{ end }}<|start_header_id|>assistant<|end_header_id|>

{{ .Response }}<|eot_id|>"""
